<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="https://www.motta-int.com/wp-content/uploads/2022/09/logos-companies-6-01.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iShop</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
      .then((reg) => {
        console.log('Service Worker registered:', reg);
      })
      .catch((err) => console.error('Service Worker registration failed:', err));
  }

</script>
<script src="https://chatbot-server-puce.vercel.app/embed.js" defer></script>
<script>
  window.addEventListener('DOMContentLoaded', () => {
    window.initChatbot?.({
      apiSchema: [
        {
          name: 'Random products',
          description: 'API for fetching random products',
          method: 'GET',
          url: 'https://ishop-server-7di1.onrender.com/api/products/random'
        },
        {
          name: 'Produt details',
          description: 'API for fetching product details',
          method: 'GET',
          url: 'https://ishop-server-7di1.onrender.com/api/products/product/{product_id}',
          parameters: {
            path: ['product_id'],
            instructions: 'Replace path with product id'
          }
        },
        {
          name: 'Cart',
          description: 'Get cart items for logged in user',
          method: 'GET',
          url: 'https://ishop-server-7di1.onrender.com/api/cart/get'
        },
        {
          name: 'Add to cart',
          description: 'Add item to a cart with a product id',
          method: 'POST',
          url: 'https://ishop-server-7di1.onrender.com/api/cart/add',
          parameters: {
            instructions:
              'Get the product name, or id of product from user queries , also get the quantity. NOTE: no need to get the buyerId as it will automatically be provided to backend using token'
          }
        },
        {
          name: 'Delete from cart',
          description: 'delete product from cart',
          method: 'DELETE',
          url: 'https://ishop-server-7di1.onrender.com/api/cart/delete/{productId}',
          parameters: {
            path: ['productId'],
            instructions: 'Get the product id after api/cart/delete and hit the api'
          }
        },
        {
          name: 'Update to cart',
          description: 'update product in cart',
          method: 'PUT',
          url: 'https://ishop-server-7di1.onrender.com/api/cart/update/{productId}/{quantity}',
          parameters: {
            path: ['productId', 'quantity'],
            instructions:
              'Get the product id and quantity from path after hit api.'
          }
        },
        {
          name: 'Search Product',
          description: 'API for searching products',
          method: 'GET',
          url: 'https://ishop-server-7di1.onrender.com/api/products/search/{search_term}',
          parameters: {
            path: ['search_term'],
            query: ['category', 'minPrice', 'maxPrice', 'page', 'limit', 'sort'],
            instructions:
              'Replace path with product name , Include query parameters if provided. Return the API response as content.'
          }
        },
        {
          name: 'Search product by category',
          description:
            'Search any product by category only , no product name , case insensitive',
          method: 'GET',
          url: 'https://ishop-server-7di1.onrender.com/api/product/categories/get-product-by-category/{category_name}',
          parameters: {
            path: ['category_name'],
            instructions:
              'Search products with just category name. by appending category name after url'
          }
        }
      ],
      domain: 'eCommerce - iShop',
      chatbotName: 'iShop-Chat',
      theme: 'dark',
      data: `Platform name: iShop, for buyers and vendors.
Official site: i-shop31.vercel.app
Pages: {domain}/privacy-policy, /refund-policy, /shipping-policy, /terms, /contact, /search (with category filter).
Buyers can see orders at {domain}/buyer/orders, notifications at /notifications.
Vendors can add products in categories like electronics, home appliances, clothing, books, sports, beauty, automotive, and jewelry.
Secure payments via Razorpay. 
Features: order tracking, notifications via SSE, add-to-cart, etc. (Don't mention technical details to users).`
    });
  });
</script>


  </body>
</html>
